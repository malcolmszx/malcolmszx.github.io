---
layout:     post
title:      深度理解 JVM 一
subtitle:   JVM 类加载机制 😅
date:       2018-05-08
author:     BY Malcolmszx
header-img: img/post-bg-ios10.jpg
catalog: true
tags:
    - JVM
---

# jvm系列(一) : java类的加载机制

## 类型加载概念

类加载指的是将类的.class文件中的二进制数据读入到内存中，将其放在运行时数据区的方法区内，然后在堆内存创建一个java.lang.class对象，用来封装类在方法区内的数据结构。类加载的最终产品是位于堆区中的class对象，class对象封装了类在方法区内的数据结构，并且向java程序员提供了访问方法区的数据结构的接口。

![](https://mmbiz.qpic.cn/mmbiz_png/PgqYrEEtEnokxXiapDdvntH8PGwa0zGXMqaq9p1LDCF7iadMBibd685uYCy8u0yhb5dmlvLRwgzNueNdSdWdvEwww/0?wx_fmt=png)

类加载并不需要等到某个类被"首次主动使用"时再加载它，JVM规范允许类加载器在预料某个类将要被使用时就预先加载它，如果在预先加载的过程中遇到了.class 文件缺失或存在错误，类加载器必须在程序首次主动使用该类时才报告错误（LinkageError错误）如果这个类一直没有被程序主动使用，那么类加载器就不会报告错误。

**加载.class文件的方式

- 从本地系统中直接加载

- 通过网络下载.class文件

- 从zip，jar等归档文件中加载.class文件

- 从专有数据库中提取.class文件

- 将Java源文件动态编译为.class文件

## 类的生命周期

![](https://mmbiz.qpic.cn/mmbiz_png/PgqYrEEtEnokxXiapDdvntH8PGwa0zGXMyIBnM38m8eKia8wAVY8aXb0NhM9wFNDLVuoFKIZ0Q2SBk5yibFgXsXOw/0?wx_fmt=png)

